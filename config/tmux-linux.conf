# ╔═══════════════════════════════════════════════════════════════════╗
# ║                                                                     ║
# ║   TMUX CONFIG (Linux/Ubuntu)                                       ║
# ║                                                                     ║
# ╚═══════════════════════════════════════════════════════════════════╝

# ============================================
# Prefixo - mudar de Ctrl+B para Ctrl+A (mais fácil)
# ============================================
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# ============================================
# Atalhos mais intuitivos para splits
# ============================================
# Ctrl+A depois | = split vertical (como iTerm Cmd+D)
bind | split-window -h -c "#{pane_current_path}"
bind \\ split-window -h -c "#{pane_current_path}"

# Ctrl+A depois - = split horizontal (como iTerm Cmd+Shift+D)
bind - split-window -v -c "#{pane_current_path}"

# Manter os atalhos originais também
bind % split-window -h -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

# ============================================
# Navegação entre painéis com Alt+setas (sem prefixo!)
# ============================================
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Navegação vim-style com prefixo
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ============================================
# Redimensionar painéis com Ctrl+setas
# ============================================
bind -n C-Left resize-pane -L 2
bind -n C-Right resize-pane -R 2
bind -n C-Up resize-pane -U 2
bind -n C-Down resize-pane -D 2

# ============================================
# Janelas (tabs)
# ============================================
# Ctrl+A depois c = nova janela
# Ctrl+A depois n = próxima janela
# Ctrl+A depois p = janela anterior
# Ctrl+A depois número = ir para janela específica

# Nova janela no diretório atual
bind c new-window -c "#{pane_current_path}"

# ============================================
# Configurações gerais
# ============================================
# Começar contagem de janelas em 1 (não 0)
set -g base-index 1
setw -g pane-base-index 1

# Renumerar janelas quando uma é fechada
set -g renumber-windows on

# Histórico maior
set -g history-limit 50000

# Suporte a mouse
set -g mouse on

# Não esperar após Escape (importante para Vim/Neovim)
set -sg escape-time 0

# Cores
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# ============================================
# Recarregar config
# ============================================
# Ctrl+A depois r = recarregar config
bind r source-file ~/.tmux.conf \; display-message "Config recarregada!"

# ============================================
# Status bar - tema escuro
# ============================================
set -g status-position bottom
set -g status-style 'bg=#1a1a2e fg=#c8d3f5'
set -g status-left-length 40
set -g status-right-length 60

set -g status-left '#[fg=#1a1a2e,bg=#82aaff,bold] #S #[fg=#82aaff,bg=#1a1a2e]'
set -g status-right '#[fg=#444a73]#[fg=#c8d3f5,bg=#444a73] %H:%M #[fg=#82aaff]#[fg=#1a1a2e,bg=#82aaff,bold] #h '

# Janela atual
setw -g window-status-current-style 'fg=#1a1a2e bg=#c099ff bold'
setw -g window-status-current-format ' #I:#W#F '

# Outras janelas
setw -g window-status-style 'fg=#c8d3f5 bg=#1a1a2e'
setw -g window-status-format ' #I:#W#F '

# Painéis
set -g pane-border-style 'fg=#444a73'
set -g pane-active-border-style 'fg=#82aaff'

# ============================================
# Mensagens
# ============================================
set -g message-style 'fg=#c8d3f5 bg=#1a1a2e bold'

# ============================================
# Dicas de uso (para iniciantes)
# ============================================
# Ctrl+A |     = dividir vertical (lado a lado)
# Ctrl+A -     = dividir horizontal (em cima/embaixo)
# Alt+setas    = navegar entre painéis (sem prefixo!)
# Ctrl+A x     = fechar painel
# Ctrl+A c     = nova janela (tab)
# Ctrl+A n/p   = próxima/anterior janela
# Ctrl+A d     = desconectar (sessão continua)
# tmux attach  = reconectar à sessão
# Ctrl+A r     = recarregar config
